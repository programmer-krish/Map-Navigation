{"version":3,"sources":["App.js","index.js"],"names":["App","useState","pins","setPins","currentplaceid","setCurrentplaceId","width","height","latitude","longitude","zoom","viewport","setViewport","useEffect","a","axios","get","res","console","log","data","getPins","className","mapboxApiAccessToken","process","onViewportChange","nextViewport","mapStyle","map","p","lat","long","offsetLeft","offsetTop","style","fontSize","color","onClick","id","_id","closeButton","closeOnClick","anchor","onClose","title","desc","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qQAoGeA,MA5Ff,WAAgB,IAAD,EACWC,mBAAS,IADpB,mBACNC,EADM,KACAC,EADA,OAE+BF,mBAAS,MAFxC,mBAENG,EAFM,KAEUC,EAFV,OAGmBJ,mBAAS,CACvCK,MAAO,OACPC,OAAQ,QACRC,SAAU,OACVC,UAAW,QACXC,KAAM,IARK,mBAGNC,EAHM,KAGIC,EAHJ,KA8Bb,OAnBAC,qBAAU,YACK,uCAAG,4BAAAC,EAAA,+EAEMC,IAAMC,IAAI,kCAFhB,OAENC,EAFM,OAGZC,QAAQC,IAAIF,EAAIG,MAChBjB,EAAQc,EAAIG,MAJA,gDAMZF,QAAQC,IAAR,MANY,yDAAH,qDASbE,KACC,IASD,qBAAKC,UAAU,MAAf,SACE,cAAC,IAAD,2BACMX,GADN,IAEEY,qBAAsBC,oGACtBC,iBAAkB,SAACC,GAAD,OAAkBd,EAAYc,IAChDC,SAAS,0DAJX,SAMGzB,EAAK0B,KAAI,SAACC,GAET,OADAX,QAAQC,IAAIU,GAEV,gCACE,cAAC,IAAD,CACErB,SAAUqB,EAAEC,IACZrB,UAAWoB,EAAEE,KACbC,YAAa,GACbC,WAAY,GAJd,SAME,cAAC,IAAD,CACEC,MAAO,CAAEC,SAA0B,EAAhBxB,EAASD,KAAU0B,MAAO,aAC7CC,QAAS,kBA1BAC,EA0BsBT,EAAEU,SAzB/ClC,EAAkBiC,GADI,IAACA,OA6BZT,EAAEU,MAAQnC,EACT,cAAC,IAAD,CACEI,SAAUqB,EAAEC,IACZrB,UAAWoB,EAAEE,KACbS,aAAa,EACbC,cAAc,EACdC,OAAO,OACPC,QAAS,kBAAMtC,EAAkB,OANnC,SAQE,sBAAKiB,UAAU,OAAf,UACE,0CACA,oBAAIA,UAAU,QAAd,SAAuBO,EAAEe,QACzB,2CACA,mBAAGtB,UAAU,OAAb,SAAqBO,EAAEgB,OACvB,2CACA,sBAAKvB,UAAU,QAAf,UACE,cAAC,IAAD,CAAUA,UAAU,SACpB,cAAC,IAAD,CAAUA,UAAU,SACpB,cAAC,IAAD,CAAUA,UAAU,SACpB,cAAC,IAAD,CAAUA,UAAU,YAEtB,gDACA,uBAAMA,UAAU,WAAhB,wBACa,yCAEb,sBAAMA,UAAU,OAAhB,6BAIJ,QAzCMO,EAAEU,cC7CxBO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.009e078f.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport ReactMapGL, { Marker, Popup } from \"react-map-gl\";\nimport RoomIcon from \"@material-ui/icons/Room\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport \"./app.css\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [pins, setPins] = useState([]);\n  const [currentplaceid, setCurrentplaceId] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: \"100v\",\n    height: \"100vh\",\n    latitude: 7.8731,\n    longitude: 80.7718,\n    zoom: 7,\n  });\n\n  useEffect(() => {\n    const getPins = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:8000/api/pins\");\n        console.log(res.data);\n        setPins(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getPins();\n  }, []);\n\n  const handleMarkClick = (id) => {\n    setCurrentplaceId(id);\n  };\n\n  // const [showPopup, togglePopup] = useState(false);\n\n  return (\n    <div className=\"App\">\n      <ReactMapGL\n        {...viewport}\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX}\n        onViewportChange={(nextViewport) => setViewport(nextViewport)}\n        mapStyle=\"mapbox://styles/rkrishnamohan/ckpb49lnb2yk118ow3wy9oc92\"\n      >\n        {pins.map((p) => {\n          console.log(p);\n          return (\n            <div key={p._id}>\n              <Marker\n                latitude={p.lat}\n                longitude={p.long}\n                offsetLeft={-20}\n                offsetTop={-10}\n              >\n                <RoomIcon\n                  style={{ fontSize: viewport.zoom * 7, color: \"slateblue\" }}\n                  onClick={() => handleMarkClick(p._id)}\n                />\n              </Marker>\n              {p._id === currentplaceid ? (\n                <Popup\n                  latitude={p.lat}\n                  longitude={p.long}\n                  closeButton={true}\n                  closeOnClick={false}\n                  anchor=\"left\"\n                  onClose={() => setCurrentplaceId(null)}\n                >\n                  <div className=\"card\">\n                    <label>Place</label>\n                    <h4 className=\"place\">{p.title}</h4>\n                    <label>Review</label>\n                    <p className=\"desc\">{p.desc}</p>\n                    <label>Rating</label>\n                    <div className=\"stars\">\n                      <StarIcon className=\"star\" />\n                      <StarIcon className=\"star\" />\n                      <StarIcon className=\"star\" />\n                      <StarIcon className=\"star\" />\n                    </div>\n                    <label>Information</label>\n                    <span className=\"username\">\n                      created by <b>Krish</b>\n                    </span>\n                    <span className=\"date\">1 hour ago</span>\n                  </div>\n                </Popup>\n              ) : (\n                \"...\"\n              )}\n            </div>\n          );\n        })}\n      </ReactMapGL>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}